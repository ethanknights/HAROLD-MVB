Matlab and R Code for Sensorimotor HAROLD project in CamCAN. 

Code is generally similar between Experiment 1 (SMT) and Experiment 2 (FreeSelection) but has differences (e.g. plot axis, nVolumes, MVPA). I use the SMT Experiment directory as an example below.

For Code to run MVB see [Link to Alexa].

1. Preprocessing was performed with automaticanalysis and SPM using code in SMT/pp. Starts with wrapper.m.
This ends with extracting beta estimates for single trials (and MVPA in Experiment 2).

2. Multivariate bayes is performed with customised SPM code [see Link to Alexa]. Place this code in SMT/MVB and call wrapper.m.
This directory also contains matlab code SMT/MVB/doPostProcessing.m to create the final data tables used in the R analysis.

3. Finally the R analyses begin by loading the appropriate data .csv with: SMT/MVB/R/*/*/run_001_loadData.R.
And from there, you have the dataframe [df] to run any of the reported analyses (e.g. for HAROLD effect, run_fMRI_univariate.R).
Ensure data.csv's are placed in the appropriate csv directory (e.g. for the main analysis place the csv in 'SMT/MVB/R/70voxel_model-sparse/csv/data.csv', or control analysis: 'SMT/MVB/R/70voxel_model-sparse_controlVoxelSize-constrictBilateral/csv/data.csv').
These .csv's can be downloaded from [OSF link].

